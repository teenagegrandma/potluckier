!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.ScaleText=t(require("react")):e.ScaleText=t(e.React)}(this,function(e){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=15)}([function(e,t,r){"use strict";function n(){p=!1}function o(e){if(!e)return void(f!==h&&(f=h,n()));if(e!==f){if(e.length!==h.length)throw new Error("Custom alphabet for shortid must be "+h.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter(function(e,t,r){return t!==r.lastIndexOf(e)});if(t.length)throw new Error("Custom alphabet for shortid must be "+h.length+" unique characters. These characters were not unique: "+t.join(", "));f=e,n()}}function i(e){return o(e),f}function u(e){d.seed(e),l!==e&&(n(),l=e)}function c(){f||o(h);for(var e,t=f.split(""),r=[],n=d.nextValue();t.length>0;)n=d.nextValue(),e=Math.floor(n*t.length),r.push(t.splice(e,1)[0]);return r.join("")}function a(){return p||(p=c())}function s(e){return a()[e]}var f,l,p,d=r(43),h="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";e.exports={characters:i,seed:u,lookup:s,shuffled:a}},function(e,t,r){function n(e){return null==e?void 0===e?a:c:s&&s in Object(e)?i(e):u(e)}var o=r(4),i=r(22),u=r(27),c="[object Null]",a="[object Undefined]",s=o?o.toStringTag:void 0;e.exports=n},function(e,t){function r(e){return null!=e&&"object"==typeof e}e.exports=r},function(e,t,r){"use strict";function n(e,t){return e.currentStyle?e.currentStyle[u(t)]:document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null).getPropertyValue(t):e.style[u(t)]}function o(e){return[e.clientWidth<e.scrollWidth,e.clientHeight<e.scrollHeight]}Object.defineProperty(t,"__esModule",{value:!0}),t.getStyle=n,t.getOverflow=o;var i=0,u=(t.uniqId=function(){return"uid-"+Date.now()+"-"+i++},t.camelize=function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})});t.css=function(e,t){for(var r in t)e.style[r]=t[r]},t.hasOverflow=function(e){return o(e).some(function(e){return!0===e})}},function(e,t,r){var n=r(6),o=n.Symbol;e.exports=o},function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(t,r(45))},function(e,t,r){var n=r(5),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();e.exports=i},function(e,t){function r(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}var n=9007199254740991;e.exports=r},function(e,t,r){"use strict";function n(e,t){for(var r,n=0,i="";!r;)i+=e(t>>4*n&15|o()),r=t<Math.pow(16,n+1),n++;return i}var o=r(42);e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";function n(e,t,r){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,u=Math.min(Math.max(Math.min(Number(e.offsetWidth)/(10*n),r),t)),c=void 0;!c;){e.style.fontSize=u+"px";var a=(0,i.getOverflow)(e),s=o(a,2),f=s[0];s[1]||f?u<=t?(u=t,c=!0):(u-=1,c=!0):u>=r?(u=r,c=!0):c||(u+=1)}return u}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var u,c=e[Symbol.iterator]();!(n=(u=c.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&c.return&&c.return()}finally{if(o)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=n;var i=r(3)},function(e,t,r){"use strict";function n(e,t,r,n){var i=n||null,c=r?r.call(i,e,t):void 0;if(void 0!==c)return!!c;if(e===t)return!0;if("object"!==(void 0===e?"undefined":o(e))||null===e||"object"!==(void 0===t?"undefined":o(t))||null===t)return!1;var a=(0,u.default)(e),s=(0,u.default)(t),f=a.length;if(f!==s.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(t),p=0;p<f;p++){var d=a[p];if(!l(d))return!1;var h=e[d],y=t[d];if(!1===(c=r?r.call(i,h,y,d):void 0)||void 0===c&&h!==y)return!1}return!0}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=n;var i=r(36),u=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,r){"use strict";e.exports=r(40)},function(e,t,r){"use strict";var n=function(){};e.exports=n},function(t,r){t.exports=e},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(14),s=n(a),f=r(13),l=n(f),p=r(12),d=r(11),h=n(d),y=r(10),b=n(y),v=r(3),x=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={size:null},r._resizing=!1,r._invalidChild=!1,r._mounted=!1,r._handleResize=function(){r._resizing||requestAnimationFrame(r.handleResize.bind(r)),r._resizing=!0},r}return u(t,e),c(t,[{key:"componentDidMount",value:function(){var e=this.props.children;this._mounted=!0,this._invalidChild=s.default.Children.count(e)>1,(0,l.default)(!this._invalidChild,"'ScaleText' expects a single node as a child, but we found\n      "+s.default.Children.count(e)+" children instead.\n      No scaling will be done on this subtree"),this.shouldResize()&&(this.resize(),window.addEventListener("resize",this._handleResize))}},{key:"componentDidUpdate",value:function(e){(0,h.default)(e.children.props,this.props.children.props)&&e.children===this.props.children&&e===this.props||this.resize()}},{key:"componentWillUnmount",value:function(){this.shouldResize()||window.removeEventListener("resize",this._handleResize)}},{key:"shouldResize",value:function(){return!this._invalidChild}},{key:"handleResize",value:function(){this._resizing=!1,this.resize()}},{key:"resize",value:function(){var e=this,t=this.props,r=t.minFontSize,n=t.maxFontSize;if(this._mounted&&this._wrapper){this.ruler&&this.clearRuler(),this.createRuler();var o=(0,b.default)(this.ruler,r||Number.NEGATIVE_INFINITY,n||Number.POSITIVE_INFINITY);this.setState({size:parseFloat(o,10),complete:!0},function(){e.clearRuler()})}}},{key:"createRuler",value:function(){this.ruler=this._wrapper.cloneNode(!0),this.ruler.id=(0,p.generate)(),(0,v.css)(this.ruler,{position:"absolute",top:"0px",left:"calc(100vw * 2)",width:(0,v.getStyle)(this._wrapper,"width"),height:(0,v.getStyle)(this._wrapper,"height")}),document.body.appendChild(this.ruler)}},{key:"clearRuler",value:function(){this.ruler&&document.body.removeChild(this.ruler),this.ruler=null}},{key:"render",value:function(){var e=this,t=this.state.size,r=this.props.children,n=s.default.isValidElement(r)?s.default.Children.only(r):s.default.createElement("span",null,r),o={fontSize:t?t.toFixed(2)+"px":"inherit",width:"100%",height:"100%",overflow:"hidden"},i={fontSize:t?parseFloat(t.toFixed(2)):"inherit"};return s.default.createElement("div",{className:"scaletext-wrapper",ref:function(t){e._wrapper=t},style:o},s.default.cloneElement(n,i))}}]),t}(a.Component);x.propTypes={children:a.PropTypes.node.isRequired,minFontSize:a.PropTypes.number.isRequired,maxFontSize:a.PropTypes.number.isRequired},x.defaultProps={minFontSize:Number.NEGATIVE_INFINITY,maxFontSize:Number.POSITIVE_INFINITY},e.exports=x},function(e,t,r){function n(e,t){var r=u(e),n=!r&&i(e),f=!r&&!n&&c(e),p=!r&&!n&&!f&&s(e),d=r||n||f||p,h=d?o(e.length,String):[],y=h.length;for(var b in e)!t&&!l.call(e,b)||d&&("length"==b||f&&("offset"==b||"parent"==b)||p&&("buffer"==b||"byteLength"==b||"byteOffset"==b)||a(b,y))||h.push(b);return h}var o=r(20),i=r(29),u=r(30),c=r(32),a=r(23),s=r(35),f=Object.prototype,l=f.hasOwnProperty;e.exports=n},function(e,t,r){function n(e){return i(e)&&o(e)==u}var o=r(1),i=r(2),u="[object Arguments]";e.exports=n},function(e,t,r){function n(e){return u(e)&&i(e.length)&&!!c[o(e)]}var o=r(1),i=r(7),u=r(2),c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c["[object Arguments]"]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c["[object Map]"]=c["[object Number]"]=c["[object Object]"]=c["[object RegExp]"]=c["[object Set]"]=c["[object String]"]=c["[object WeakMap]"]=!1,e.exports=n},function(e,t,r){function n(e){if(!o(e))return i(e);var t=[];for(var r in Object(e))c.call(e,r)&&"constructor"!=r&&t.push(r);return t}var o=r(24),i=r(25),u=Object.prototype,c=u.hasOwnProperty;e.exports=n},function(e,t){function r(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}e.exports=r},function(e,t){function r(e){return function(t){return e(t)}}e.exports=r},function(e,t,r){function n(e){var t=u.call(e,a),r=e[a];try{e[a]=void 0}catch(e){}var n=c.call(e);return t?e[a]=r:delete e[a],n}var o=r(4),i=Object.prototype,u=i.hasOwnProperty,c=i.toString,a=o?o.toStringTag:void 0;e.exports=n},function(e,t){function r(e,t){return!!(t=null==t?n:t)&&("number"==typeof e||o.test(e))&&e>-1&&e%1==0&&e<t}var n=9007199254740991,o=/^(?:0|[1-9]\d*)$/;e.exports=r},function(e,t){function r(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}var n=Object.prototype;e.exports=r},function(e,t,r){var n=r(28),o=n(Object.keys,Object);e.exports=o},function(e,t,r){(function(e){var n=r(5),o="object"==typeof t&&t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,u=i&&i.exports===o,c=u&&n.process,a=function(){try{return c&&c.binding&&c.binding("util")}catch(e){}}();e.exports=a}).call(t,r(9)(e))},function(e,t){function r(e){return o.call(e)}var n=Object.prototype,o=n.toString;e.exports=r},function(e,t){function r(e,t){return function(r){return e(t(r))}}e.exports=r},function(e,t,r){var n=r(17),o=r(2),i=Object.prototype,u=i.hasOwnProperty,c=i.propertyIsEnumerable,a=n(function(){return arguments}())?n:function(e){return o(e)&&u.call(e,"callee")&&!c.call(e,"callee")};e.exports=a},function(e,t){var r=Array.isArray;e.exports=r},function(e,t,r){function n(e){return null!=e&&i(e.length)&&!o(e)}var o=r(33),i=r(7);e.exports=n},function(e,t,r){(function(e){var n=r(6),o=r(37),i="object"==typeof t&&t&&!t.nodeType&&t,u=i&&"object"==typeof e&&e&&!e.nodeType&&e,c=u&&u.exports===i,a=c?n.Buffer:void 0,s=a?a.isBuffer:void 0,f=s||o;e.exports=f}).call(t,r(9)(e))},function(e,t,r){function n(e){if(!i(e))return!1;var t=o(e);return t==c||t==a||t==u||t==s}var o=r(1),i=r(34),u="[object AsyncFunction]",c="[object Function]",a="[object GeneratorFunction]",s="[object Proxy]";e.exports=n},function(e,t){function r(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=r},function(e,t,r){var n=r(18),o=r(21),i=r(26),u=i&&i.isTypedArray,c=u?o(u):n;e.exports=c},function(e,t,r){function n(e){return u(e)?o(e):i(e)}var o=r(16),i=r(19),u=r(31);e.exports=n},function(e,t){function r(){return!1}e.exports=r},function(e,t,r){"use strict";function n(e){var t="",r=Math.floor(.001*(Date.now()-a));return r===i?o++:(o=0,i=r),t+=u(c.lookup,s),t+=u(c.lookup,e),o>0&&(t+=u(c.lookup,o)),t+=u(c.lookup,r)}var o,i,u=r(8),c=r(0),a=1459707606518,s=6;e.exports=n},function(e,t,r){"use strict";function n(e){var t=o.shuffled();return{version:15&t.indexOf(e.substr(0,1)),worker:15&t.indexOf(e.substr(1,1))}}var o=r(0);e.exports=n},function(e,t,r){"use strict";function n(t){return c.seed(t),e.exports}function o(t){return l=t,e.exports}function i(e){return void 0!==e&&c.characters(e),c.shuffled()}function u(){return s(l)}var c=r(0),a=(r(8),r(39)),s=r(38),f=r(41),l=r(44)||0;e.exports=u,e.exports.generate=u,e.exports.seed=n,e.exports.worker=o,e.exports.characters=i,e.exports.decode=a,e.exports.isValid=f},function(e,t,r){"use strict";function n(e){if(!e||"string"!=typeof e||e.length<6)return!1;for(var t=o.characters(),r=e.length,n=0;n<r;n++)if(-1===t.indexOf(e[n]))return!1;return!0}var o=r(0);e.exports=n},function(e,t,r){"use strict";function n(){if(!o||!o.getRandomValues)return 48&Math.floor(256*Math.random());var e=new Uint8Array(1);return o.getRandomValues(e),48&e[0]}var o="object"==typeof window&&(window.crypto||window.msCrypto);e.exports=n},function(e,t,r){"use strict";function n(){return(i=(9301*i+49297)%233280)/233280}function o(e){i=e}var i=1;e.exports={nextValue:n,seed:o}},function(e,t,r){"use strict";e.exports=0},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r}])});